<div class="box fondo" style="height: 100%;">
  <div class="title">
    <h1>Lista de Terminales</h1>
  </div>
  <div class="search-bar">
    <div class="search-left">
      <span class="label mt-3">Búsqueda Global:</span>

      <p class="control has-icons-right search-input" style="margin-left: 13px;">
        <input id="tf_busqueda"
               type="text"
               class="input"
               autocomplete="off"
               placeholder="Nombre o CI"/>
        <span class="icon is-right">
        <i class="fas fa-search"></i>
      </span>
      </p>
    </div>

    <div class="notification-bell"
         (click)="toggleNotificaciones()">
      <i class="fas fa-bell"></i>
    </div>
  </div>
  <div class="hbox mt-3">
    <!--<input #buscador class="input" type="text" placeholder="Buscar terminal..." (input)="buscar(buscador.value)">-->
    <span class="label mt-2">Filtrar por categoria: </span>
    <div class="buttons is-centered mb-1" style="gap: 0px">
      @for(categoria of categorias; track categoria; let index = $index) {
      <button class="button toggle"  (click)="filtrarPorCategoria(index)" [class.seleccionado]="isSelected(index)">
        <div class="hitem">
          @if(isSelected(index)) {
      <i class="fas fa-check has-text-success" style="align-self: center;"></i>
      }
      <span>{{categoria}}</span>
        </div>
      </button>
      }
    </div>
  </div>
  @if(mostrarNotificaciones) {
  <div class="notificaciones-panel">
    <div class="card">
      <header class="card-header">
        <p class="card-header-title" style="font-size: 20px;">
          Notificaciones
        </p>
      </header>
      <div class="tabs is-toggle is-fullwidth">
        <ul>
          <li class="is-active"><a>Semana Actual</a></li>
          <li><a>Semana Anterior</a></li>
        </ul>
      </div>
      <div class="card-content notificaciones-contenido">
        <!-- TERMINAL -->
        <div class="mb-3">
          <strong>DES. HUMANO (5)</strong>
          <ul class="mt-1">
            <li>José Ruiz – 2 días sin marcación</li>
            <li>Marcos Vega – 2 días sin marcación</li>
            <li>
              <a class="is-size-8 link-notificacion">+3 más… Ver todas</a>
            </li>
          </ul>
        </div>
        <div class="mb-3">
          <strong>INTENDENCIA (3)</strong>
          <ul class="mt-1">
            <li>Ana Flores – 3 días sin marcación</li>
            <li>
              <a class="is-size-8 link-notificacion">+2 más… Ver todas</a>
            </li>
          </ul>
        </div>
      </div>
      <footer class="card-footer">
        <a class="card-footer-item link-notificacion">Ver todas</a>
      </footer>
    </div>
  </div>
  }
  <div class="terminales  animate__animated animate__fadeIn" id="terminales">
    @for (terminal of terminalesFiltrados; track terminal) {
    <app-terminal [terminal]="terminal">
    </app-terminal>
    }
  </div>
</div>
